---
/**
 * GenreBadge Component
 * Specialized badge for music genres with jazz-club styling
 * Features hover glow effect and links to genre pages
 */
import Badge from '../ui/Badge.astro';

interface Props {
  genre: string;
  count?: number;
  size?: 'sm' | 'md' | 'lg';
  showCount?: boolean;
  class?: string;
}

const {
  genre,
  count,
  size = 'md',
  showCount = false,
  class: className = '',
  ...rest
} = Astro.props;

// Convert genre to URL-friendly slug
const slug = genre.toLowerCase().replace(/\s+/g, '-');
const href = `/genres/${slug}`;
---

<Badge
  href={href}
  size={size}
  variant="default"
  class={`genre-badge ${className}`}
  {...rest}
>
  <span class="genre-name">{genre}</span>
  {showCount && count !== undefined && (
    <span class="genre-count">{count}</span>
  )}
</Badge>

<style>
  .genre-badge {
    position: relative;
  }

  .genre-badge::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    opacity: 0;
    background: linear-gradient(135deg, var(--jazz-amber) 0%, var(--electric-cyan) 100%);
    z-index: -1;
    transition: opacity var(--duration-normal) var(--ease-jazz);
  }

  .genre-badge:hover::before {
    opacity: 0.15;
  }

  .genre-name {
    transition: color var(--duration-fast) var(--ease-smooth);
  }

  .genre-count {
    margin-left: 0.25rem;
    padding-left: 0.5rem;
    border-left: 1px solid var(--color-border-light);
    font-family: 'JetBrains Mono Variable', monospace;
    font-size: 0.85em;
    opacity: 0.7;
  }
</style>
