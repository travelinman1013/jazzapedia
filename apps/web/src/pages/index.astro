---
/**
 * Home Page - Jazz Club Playbill Aesthetic
 * Features art deco hero, animated stat boxes, and featured content sections
 * Uses D1 database for SSR
 */
import Layout from '../layouts/Layout.astro';
import StatBox from '../components/jazz/StatBox.astro';
import ArtistCard from '../components/jazz/ArtistCard.astro';
import GenreBadge from '../components/jazz/GenreBadge.astro';
import { getDatabase, getPortraitUrl } from '../lib/db';

// Get database adapter (works with both D1 and SQLite)
const db = await getDatabase(Astro.locals);

// Set cache headers (shorter for homepage with random content)
Astro.response.headers.set('Cache-Control', 'public, max-age=300, stale-while-revalidate=3600');

interface Artist {
  slug: string;
  title: string;
  artist_type: string | null;
  genres: string | null;
  image_filename: string | null;
  spotify_data: string | null;
  created_at: string | null;
}

interface Genre {
  name: string;
  artist_count: number;
}

interface WWOZDay {
  date: string;
  playlist_url: string | null;
  stats_json: string | null;
}

interface WWOZStats {
  totalTracks: number;
  successfullyFound: number;
}

let artistCount = 0;
let randomArtists: Artist[] = [];
let recentArtists: Artist[] = [];
let topGenres: Genre[] = [];
let recentWWOZDays: WWOZDay[] = [];
let wwozDaysCount = 0;
let wwozTotalTracks = 0;
let errorMessage = '';

if (db) {
  try {
    // Run queries in parallel for better performance
    const [
      artistCountResult,
      randomResult,
      recentResult,
      genresResult,
      wwozResult,
      wwozDaysCountResult,
      wwozTotalTracksResult,
    ] = await Promise.all([
      // Total artists
      db.prepare('SELECT COUNT(*) as count FROM artists').first(),
      // 12 random artists with images
      db.prepare(`
        SELECT slug, title, artist_type, genres, image_filename, spotify_data
        FROM artists
        WHERE image_filename IS NOT NULL
        ORDER BY RANDOM()
        LIMIT 12
      `).all(),
      // 6 recently added artists
      db.prepare(`
        SELECT slug, title, genres, created_at
        FROM artists
        WHERE created_at IS NOT NULL
        ORDER BY created_at DESC
        LIMIT 6
      `).all(),
      // Top 15 genres
      db.prepare(`
        SELECT name, artist_count
        FROM genres
        ORDER BY artist_count DESC
        LIMIT 15
      `).all(),
      // 3 most recent WWOZ archive days
      db.prepare(`
        SELECT date, playlist_url, stats_json
        FROM wwoz_days
        ORDER BY date DESC
        LIMIT 3
      `).all(),
      // WWOZ stats: Days tracked
      db.prepare('SELECT COUNT(*) as count FROM wwoz_days').first(),
      // WWOZ stats: Total tracks
      db.prepare('SELECT COUNT(*) as count FROM wwoz_tracks').first(),
    ]);

    artistCount = (artistCountResult as { count: number })?.count || 0;
    randomArtists = randomResult.results as Artist[];
    recentArtists = recentResult.results as Artist[];
    topGenres = genresResult.results as Genre[];
    recentWWOZDays = (wwozResult.results || []) as WWOZDay[];
    wwozDaysCount = (wwozDaysCountResult as { count: number })?.count || 0;
    wwozTotalTracks = (wwozTotalTracksResult as { count: number })?.count || 0;
  } catch (error) {
    console.error('Error loading homepage data:', error);
    errorMessage = String(error);
  }
} else {
  errorMessage = 'Database not available';
}

// Helper functions
function parseJson(json: string | null, fallback: any): any {
  if (!json) return fallback;
  try {
    return JSON.parse(json);
  } catch {
    return fallback;
  }
}

const formatNumber = (num: number) => num.toLocaleString();

const getPortrait = (artist: Artist) => {
  return getPortraitUrl(Astro.locals, artist.image_filename);
};

const getArtistType = (artist: Artist): string | undefined => {
  const bg = artist.artist_type;
  if (bg === 'solo_singer') return 'Vocalist';
  if (bg === 'instrumentalist') return 'Instrumentalist';
  if (bg === 'group_or_band') return 'Group';
  return undefined;
};

// WWOZ helper functions
const formatWWOZDate = (dateStr: string) => {
  const date = new Date(dateStr + 'T12:00:00');
  const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  return `${days[date.getDay()]}, ${months[date.getMonth()]} ${date.getDate()}`;
};

const getMatchRate = (statsJson: string | null): number => {
  if (!statsJson) return 0;
  try {
    const stats = JSON.parse(statsJson) as WWOZStats;
    if (stats.totalTracks === 0) return 0;
    return Math.round((stats.successfullyFound / stats.totalTracks) * 100);
  } catch {
    return 0;
  }
};

const getMatchRateColor = (rate: number): string => {
  if (rate >= 60) return 'text-green-600';
  if (rate >= 40) return 'text-jazz-amber';
  return 'text-red-400';
};
---

<Layout
  title="Jazzapedia"
  ogTitle="Jazz and World Music History as Told by the Greatest Station in the Universe"
  description="Jazz and World Music History as Told by the Greatest Station in the Universe"
>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-badge">EST. 2025</div>
      <h1 class="hero-title">
        <span class="hero-title-accent">Jazzapedia</span>
      </h1>
      <p class="hero-tagline">
        A curated encyclopedia of <strong class="text-jazz-amber">{formatNumber(artistCount)}</strong> musicians,
        their stories, and musical connections.
      </p>
      <div class="hero-actions">
        <a href="/artists" class="hero-btn hero-btn-primary">
          Browse Artists
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
          </svg>
        </a>
        <a href="/random" class="hero-btn hero-btn-secondary">
          Surprise Me
        </a>
      </div>
    </div>
    <div class="hero-decoration"></div>
  </section>

  {errorMessage && (
    <div class="error-banner">
      <strong>Error loading data:</strong> {errorMessage}
    </div>
  )}

  <!-- Stats Section - WWOZ Insights -->
  <section class="stats-section">
    <div class="stats-grid">
      <StatBox value={wwozDaysCount} label="Days Tracked" icon="&#128197;" href="/wwoz" />
      <StatBox value={wwozTotalTracks} label="Total Tracks" icon="&#127925;" href="/wwoz" />
      <StatBox value={artistCount} label="Unique Artists" icon="&#127908;" href="/artists" />
    </div>
  </section>

  <!-- WWOZ Radio Section -->
  {recentWWOZDays.length > 0 && (
    <section class="content-section">
      <header class="section-header">
        <div class="section-title-group">
          <span class="section-icon">&#127908;</span>
          <h2 class="section-title">WWOZ Radio</h2>
        </div>
        <p class="section-subtitle">Recent playlists from New Orleans</p>
        <a href="/wwoz" class="section-link">
          View all archives
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </header>

      <div class="wwoz-grid">
        {recentWWOZDays.map((day) => {
          const stats = parseJson(day.stats_json, null) as WWOZStats | null;
          const matchRate = getMatchRate(day.stats_json);
          const matchColor = getMatchRateColor(matchRate);

          return (
            <a href={`/wwoz/${day.date}`} class="wwoz-card">
              <div class="wwoz-card-header">
                <span class="wwoz-date">{formatWWOZDate(day.date)}</span>
                {day.playlist_url && (
                  <span class="wwoz-spotify" title="Spotify playlist available">
                    <svg class="w-4 h-4 text-[#1DB954]" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
                    </svg>
                  </span>
                )}
              </div>
              <div class="wwoz-card-stats">
                <div class="wwoz-stat">
                  <span class="wwoz-stat-value">{stats?.totalTracks || 0}</span>
                  <span class="wwoz-stat-label">tracks</span>
                </div>
                <div class="wwoz-stat">
                  <span class={`wwoz-stat-value ${matchColor}`}>{matchRate}%</span>
                  <span class="wwoz-stat-label">matched</span>
                </div>
              </div>
            </a>
          );
        })}
      </div>
    </section>
  )}

  <!-- Recently Added -->
  {recentArtists.length > 0 && (
    <section class="content-section">
      <header class="section-header">
        <div class="section-title-group">
          <span class="section-icon">&#10024;</span>
          <h2 class="section-title">Recently Added</h2>
        </div>
        <p class="section-subtitle">Newly discovered artists</p>
      </header>

      <div class="recent-list">
        {recentArtists.map(artist => {
          const genres = parseJson(artist.genres, []);
          return (
            <a href={`/artists/${artist.slug}`} class="recent-item">
              <span class="recent-name">{artist.title}</span>
              <span class="recent-genres">
                {genres.slice(0, 2).join(', ') || 'Various'}
              </span>
            </a>
          );
        })}
      </div>
    </section>
  )}

  <!-- Random Artists Section -->
  <section class="content-section">
    <header class="section-header">
      <div class="section-title-group">
        <span class="section-icon">&#127927;</span>
        <h2 class="section-title">Random Artists</h2>
      </div>
      <p class="section-subtitle">A random selection from the collection</p>
      <a href="/artists" class="section-link">
        View all artists
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </header>

    <div class="artists-grid">
      {randomArtists.map((artist) => {
        const genres = parseJson(artist.genres, []);
        const spotify = parseJson(artist.spotify_data, {});
        return (
          <ArtistCard
            name={artist.title}
            slug={artist.slug}
            portrait={getPortrait(artist)}
            genres={genres.slice(0, 2)}
            popularity={spotify.popularity}
            artistType={getArtistType(artist)}
          />
        );
      })}
    </div>
  </section>

  <!-- Genre Exploration -->
  <section class="content-section">
    <header class="section-header">
      <div class="section-title-group">
        <span class="section-icon">&#127926;</span>
        <h2 class="section-title">Explore Genres</h2>
      </div>
      <p class="section-subtitle">Discover artists by musical style</p>
      <a href="/genres" class="section-link">
        All genres
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </header>

    <div class="genres-cloud">
      {topGenres.map((genre) => (
        <GenreBadge genre={genre.name} count={genre.artist_count} showCount size="md" />
      ))}
    </div>
  </section>

  <!-- Quick Navigation -->
  <section class="content-section">
    <header class="section-header">
      <div class="section-title-group">
        <span class="section-icon">&#128269;</span>
        <h2 class="section-title">Quick Navigation</h2>
      </div>
    </header>

    <div class="quick-nav-grid">
      <a href="/artists" class="quick-nav-card">
        <span class="quick-nav-icon">&#9835;</span>
        <h3 class="quick-nav-title">All Artists</h3>
        <p class="quick-nav-desc">Browse {formatNumber(artistCount)} artists alphabetically</p>
      </a>
      <a href="/genres" class="quick-nav-card">
        <span class="quick-nav-icon">&#127926;</span>
        <h3 class="quick-nav-title">Genres</h3>
        <p class="quick-nav-desc">Explore musical genres</p>
      </a>
      <a href="/instruments" class="quick-nav-card">
        <span class="quick-nav-icon">&#127927;</span>
        <h3 class="quick-nav-title">Instruments</h3>
        <p class="quick-nav-desc">Find artists by instrument</p>
      </a>
      <a href="/about" class="quick-nav-card">
        <span class="quick-nav-icon">&#128247;</span>
        <h3 class="quick-nav-title">About</h3>
        <p class="quick-nav-desc">The story behind Jazzapedia</p>
      </a>
      <a href="/random" class="quick-nav-card quick-nav-card-accent">
        <span class="quick-nav-icon">&#127922;</span>
        <h3 class="quick-nav-title">Random Artist</h3>
        <p class="quick-nav-desc">Discover someone new</p>
        <kbd class="quick-nav-kbd">R</kbd>
      </a>
    </div>
  </section>
</Layout>

<style>
  /* ============================================
     Hero Section - Jazz Club Playbill
     ============================================ */
  .hero {
    position: relative;
    padding: 3rem 0;
    margin: -1.5rem -1.5rem 2rem -1.5rem;
    background: linear-gradient(135deg, var(--color-bg-nav) 0%, var(--color-bg) 100%);
    border-bottom: 2px solid var(--jazz-brass);
    overflow: hidden;
  }

  .hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    );
    pointer-events: none;
  }

  .hero-content {
    position: relative;
    text-align: center;
    padding: 0 1.5rem;
  }

  .hero-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    margin-bottom: 1rem;
    font-family: 'JetBrains Mono Variable', monospace;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.2em;
    color: var(--jazz-amber);
    border: 1px solid var(--jazz-brass);
    border-radius: 9999px;
  }

  .hero-title {
    font-family: 'Playfair Display Variable', Georgia, serif;
    font-size: clamp(2.5rem, 8vw, 4rem);
    font-weight: 600;
    line-height: 1.2;
    margin: 0 0 1rem 0;
    color: var(--color-text-heading);
  }

  .hero-title-line {
    display: block;
    font-weight: 400;
  }

  .hero-title-accent {
    display: block;
    background: linear-gradient(135deg, var(--jazz-amber) 0%, var(--electric-cyan) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-tagline {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    max-width: 36rem;
    margin: 0 auto 1.5rem auto;
    line-height: 1.6;
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .hero-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-weight: 500;
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--duration-fast) var(--ease-smooth);
  }

  .hero-btn-primary {
    background: var(--jazz-amber);
    color: var(--jazz-black);
  }

  .hero-btn-primary:hover {
    background: var(--electric-cyan);
    box-shadow: var(--glow-cyan);
  }

  .hero-btn-secondary {
    background: transparent;
    border: 1px solid var(--color-border);
    color: var(--color-text);
  }

  .hero-btn-secondary:hover {
    border-color: var(--jazz-amber);
    color: var(--jazz-amber);
  }

  .hero-decoration {
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, var(--jazz-amber) 50%, transparent 100%);
  }

  /* ============================================
     Stats Section
     ============================================ */
  .stats-section {
    margin-bottom: 3rem;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (min-width: 768px) {
    .stats-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* ============================================
     Content Sections
     ============================================ */
  .content-section {
    margin-bottom: 3rem;
  }

  .section-header {
    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    gap: 0.5rem 1rem;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--color-border);
  }

  .section-title-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .section-icon {
    font-size: 1.25rem;
  }

  .section-title {
    font-family: 'Playfair Display Variable', Georgia, serif;
    font-size: 1.5rem;
    font-weight: 500;
    color: var(--color-text-heading);
    margin: 0;
  }

  .section-subtitle {
    color: var(--color-text-muted);
    font-size: 0.875rem;
    margin: 0;
    flex: 1;
  }

  .section-link {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.875rem;
    color: var(--color-link);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-smooth);
  }

  .section-link:hover {
    color: var(--color-link-hover);
  }

  /* ============================================
     Artists Grid
     ============================================ */
  .artists-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .artists-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .artists-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* ============================================
     Genres Cloud
     ============================================ */
  .genres-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  /* ============================================
     Recent List
     ============================================ */
  .recent-list {
    display: grid;
    gap: 0.5rem;
  }

  @media (min-width: 768px) {
    .recent-list {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .recent-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: var(--color-bg);
    border: 1px solid var(--color-border-light);
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: all var(--duration-fast) var(--ease-smooth);
  }

  .recent-item:hover {
    border-color: var(--color-link);
    background: var(--color-accent-light);
  }

  .recent-name {
    font-weight: 500;
    color: var(--color-link);
  }

  .recent-genres {
    font-size: 0.75rem;
    color: var(--color-text-muted);
  }

  /* ============================================
     Quick Navigation
     ============================================ */
  .quick-nav-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (min-width: 768px) {
    .quick-nav-grid {
      grid-template-columns: repeat(5, 1fr);
    }
  }

  .quick-nav-card {
    position: relative;
    padding: 1.25rem;
    background: var(--color-bg);
    border: 1px solid var(--color-border-light);
    border-radius: var(--radius-lg);
    text-decoration: none;
    transition: all var(--duration-fast) var(--ease-smooth);
  }

  .quick-nav-card:hover {
    border-color: var(--color-link);
    background: var(--color-accent-light);
    transform: translateY(-2px);
  }

  .quick-nav-card-accent {
    border-color: var(--jazz-brass);
    background: linear-gradient(135deg, var(--color-accent-light) 0%, transparent 100%);
  }

  .quick-nav-icon {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .quick-nav-title {
    font-family: 'Playfair Display Variable', Georgia, serif;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-link);
    margin: 0 0 0.25rem 0;
  }

  .quick-nav-desc {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.4;
  }

  .quick-nav-kbd {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    padding: 0.125rem 0.375rem;
    font-family: 'JetBrains Mono Variable', monospace;
    font-size: 0.6rem;
    background: var(--color-bg-nav);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    color: var(--color-text-muted);
  }

  /* ============================================
     Error State
     ============================================ */
  .error-banner {
    background: rgba(220, 38, 38, 0.1);
    border: 1px solid rgba(220, 38, 38, 0.3);
    color: #DC2626;
    padding: 1rem;
    border-radius: var(--radius-md);
    margin-bottom: 2rem;
  }

  /* ============================================
     Dark Mode Enhancements
     ============================================ */
  :global([data-mode="dark"]) .hero {
    background: linear-gradient(135deg, var(--jazz-smoke) 0%, var(--jazz-black) 100%);
  }

  :global([data-mode="dark"]) .hero::before {
    background-image: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.02) 2px,
      rgba(255, 255, 255, 0.02) 4px
    );
  }

  :global([data-mode="dark"]) .quick-nav-card {
    background: var(--jazz-smoke);
  }

  :global([data-mode="dark"]) .recent-item {
    background: var(--jazz-smoke);
  }

  /* ============================================
     WWOZ Archive Cards
     ============================================ */
  .wwoz-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }

  @media (max-width: 768px) {
    .wwoz-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    .wwoz-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .wwoz-card {
    display: flex;
    flex-direction: column;
    padding: 1rem 1.25rem;
    background: var(--color-bg);
    border: 1px solid var(--color-border-light);
    border-radius: var(--radius-lg);
    text-decoration: none;
    transition: all var(--duration-fast) var(--ease-smooth);
    position: relative;
    overflow: hidden;
  }

  .wwoz-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--jazz-amber), var(--electric-cyan));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform var(--duration-normal) var(--ease-jazz);
  }

  .wwoz-card:hover {
    border-color: var(--color-link);
    background: var(--color-accent-light);
    transform: translateY(-2px);
  }

  .wwoz-card:hover::before {
    transform: scaleX(1);
  }

  .wwoz-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
  }

  .wwoz-date {
    font-family: 'Playfair Display Variable', Georgia, serif;
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-text-heading);
  }

  .wwoz-spotify {
    display: flex;
    align-items: center;
  }

  .wwoz-card-stats {
    display: flex;
    gap: 1.5rem;
  }

  .wwoz-stat {
    display: flex;
    flex-direction: column;
  }

  .wwoz-stat-value {
    font-family: 'JetBrains Mono Variable', monospace;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-text-heading);
    line-height: 1.2;
  }

  .wwoz-stat-label {
    font-size: 0.75rem;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :global([data-mode="dark"]) .wwoz-card {
    background: var(--jazz-smoke);
  }
</style>
